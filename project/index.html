<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thermacore Fireproofing & Insulation | Commercial & Residential</title>
    <meta name="description"
        content="Professional fireproofing, insulation, drywall, and taping services for commercial, residential, and industrial construction at a reasonable price.">
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://kit.fontawesome.com/368d8dcf27.js" crossorigin="anonymous"></script>
    <style>
        /* Translation notice styles */
        .translation-notice {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 5px;
            z-index: 1000;
            color: white;
        }

        .translation-notice.success {
            background-color: #4CAF50;
        }

        .translation-notice.error {
            background-color: #f44336;
        }

        .translation-notice .close-btn {
            margin-left: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        /* Ensure translated links remain clickable */
        [data-translate-key] {
            pointer-events: auto !important;
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Thermacore</h1>
                <span>Fireproofing & Insulation</span>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html" class="active" data-translate-key="nav.home">Home</a></li>
                    <li><a href="about.html" data-translate-key="nav.about">About</a></li>
                    <li><a href="estimate.html" data-translate-key="nav.estimate">Get Estimate</a></li>
                    <li><a href="contact.html" data-translate-key="nav.contact">Contact</a></li>
                </ul>
            </nav>
            <div class="mobile-menu-btn">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h2>Expert Fireproofing & Insulation Solutions</h2>
                <p>Protecting commercial, residential, and industrial construction with high-quality materials and
                    craftsmanship.</p>
                <a href="estimate.html" class="btn btn-primary">Request Free Estimate</a>
            </div>
        </div>
    </section>

    <section class="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fa-solid fa-house-fire"></i>
                    </div>
                    <h3>Fireproofing</h3>
                    <p>Specialized fireproofing solutions to meet building codes and enhance safety.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fa-solid fa-person-shelter"></i>
                    </div>
                    <h3>Insulation</h3>
                    <p>Energy-efficient insulation for temperature control and soundproofing.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fa-solid fa-tape"></i>
                    </div>
                    <h3>Drywall & Taping</h3>
                    <p>Professional drywall installation and finishing for seamless walls.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="cta">
        <div class="container">
            <h2>Ready to Start Your Project?</h2>
            <p>Contact us today for a free consultation and estimate.</p>
            <div class="cta-buttons">
                <a href="contact.html" class="btn btn-secondary">Contact Us</a>
                <a href="estimate.html" class="btn btn-primary">Get Estimate</a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-about">
                    <h3>ThermaCore</h3>
                    <p>"We provide professional fireproofing, insulation, drywall, and taping services for commercial,
                        industrial, and residential construction projects throughout the Greater Toronto Area (GTA) and
                        surrounding regions.".</p>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="estimate.html">Estimate</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <p>7111 Syntex Dr<br>Mississauga, ON L5N 8C3</p>
                    <a href="tel:+16476784281">
                        <p>Phone: (647) 678-4281</p>
                    </a>
                    <a href="mailto:johnbsong@gmail.com">
                        <p>Email: info@thermacore.ca </p>
                    </a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 ThermaCore Fireproofing & Insulation. All rights reserved.</p>
            </div>
        </div>
        <div class="custom-translate">
            <button onclick="changeLanguage('en')">English</button>
            <button onclick="changeLanguage('es')">Spanish</button>
            <button onclick="changeLanguage('zh')">Chinese</button>
        </div>
    </footer>
    <script src="js/main.js"></script>

    <script>
        // Enhanced Translation System with clickable nav links
        (function () {
            // Configuration
            const config = {
                languages: {
                    'en': {
                        name: 'English',
                        flag: 'ðŸ‡¬ðŸ‡§',
                        translations: {
                            'nav.home': 'Home',
                            'nav.about': 'About',
                            'nav.estimate': 'Get Estimate',
                            'nav.contact': 'Contact',
                            'hero.title': 'Expert Fireproofing & Insulation Solutions',
                            'hero.text': 'Protecting commercial, residential, and industrial construction with high-quality materials and craftsmanship.',
                            'services.title': 'Our Services',
                            'fireproofing.title': 'Fireproofing',
                            'fireproofing.text': 'Specialized fireproofing solutions to meet building codes and enhance safety.',
                            'insulation.title': 'Insulation',
                            'insulation.text': 'Energy-efficient insulation for temperature control and soundproofing.',
                            'drywall.title': 'Drywall & Taping',
                            'drywall.text': 'Professional drywall installation and finishing for seamless walls.',
                            'cta.title': 'Ready to Start Your Project?',
                            'cta.text': 'Contact us today for a free consultation and estimate.',
                            'footer.about': '"We provide professional fireproofing, insulation, drywall, and taping services for commercial, industrial, and residential construction projects throughout the Greater Toronto Area (GTA) and surrounding regions."',
                            'footer.links': 'Quick Links',
                            'footer.contact': 'Contact Us',
                            'footer.copyright': 'Â© 2025 ThermaCore Fireproofing & Insulation. All rights reserved.'
                        }
                    },
                    'es': {
                        name: 'EspaÃ±ol',
                        flag: 'ðŸ‡ªðŸ‡¸',
                        translations: {
                            'nav.home': 'Inicio',
                            'nav.about': 'Acerca de',
                            'nav.estimate': 'Obtener Presupuesto',
                            'nav.contact': 'Contacto',
                            'hero.title': 'Soluciones Expertas en ProtecciÃ³n contra Incendios y Aislamiento',
                            'hero.text': 'ProtecciÃ³n de construcciones comerciales, residenciales e industriales con materiales de alta calidad y mano de obra calificada.',
                            'services.title': 'Nuestros Servicios',
                            'fireproofing.title': 'ProtecciÃ³n contra Incendios',
                            'fireproofing.text': 'Soluciones especializadas para cumplir con los cÃ³digos de construcciÃ³n y mejorar la seguridad.',
                            'insulation.title': 'Aislamiento',
                            'insulation.text': 'Aislamiento energÃ©ticamente eficiente para control de temperatura y aislamiento acÃºstico.',
                            'drywall.title': 'Drywall & Acabados',
                            'drywall.text': 'InstalaciÃ³n profesional de drywall y acabados para paredes perfectas.',
                            'cta.title': 'Â¿Listo para Comenzar tu Proyecto?',
                            'cta.text': 'ContÃ¡ctanos hoy para una consulta gratuita y presupuesto.',
                            'footer.about': '"Brindamos servicios profesionales de protecciÃ³n contra incendios, aislamiento, drywall y acabados para proyectos de construcciÃ³n comerciales, industriales y residenciales en el Ãrea Metropolitana de Toronto (GTA) y regiones circundantes."',
                            'footer.links': 'Enlaces RÃ¡pidos',
                            'footer.contact': 'ContÃ¡ctenos',
                            'footer.copyright': 'Â© 2025 ThermaCore ProtecciÃ³n contra Incendios y Aislamiento. Todos los derechos reservados.'
                        }
                    },
                    'zh': {
                        name: 'ä¸­æ–‡',
                        flag: 'ðŸ‡¨ðŸ‡³',
                        translations: {
                            'nav.home': 'é¦–é¡µ',
                            'nav.about': 'å…³äºŽæˆ‘ä»¬',
                            'nav.estimate': 'èŽ·å–æŠ¥ä»·',
                            'nav.contact': 'è”ç³»æˆ‘ä»¬',
                            'hero.title': 'ä¸“ä¸šé˜²ç«ä¸Žç»ç¼˜è§£å†³æ–¹æ¡ˆ',
                            'hero.text': 'é‡‡ç”¨ä¼˜è´¨ææ–™å’Œç²¾æ¹›å·¥è‰ºï¼Œä¿æŠ¤å•†ä¸šã€ä½å®…å’Œå·¥ä¸šå»ºç­‘ã€‚',
                            'services.title': 'æˆ‘ä»¬çš„æœåŠ¡',
                            'fireproofing.title': 'é˜²ç«å·¥ç¨‹',
                            'fireproofing.text': 'ä¸“ä¸šçš„é˜²ç«è§£å†³æ–¹æ¡ˆï¼Œç¬¦åˆå»ºç­‘è§„èŒƒå¹¶å¢žå¼ºå®‰å…¨æ€§ã€‚',
                            'insulation.title': 'ç»ç¼˜ææ–™',
                            'insulation.text': 'èŠ‚èƒ½ç»ç¼˜ææ–™ï¼Œç”¨äºŽæ¸©åº¦æŽ§åˆ¶å’Œéš”éŸ³ã€‚',
                            'drywall.title': 'çŸ³è†æ¿ä¸ŽæŽ¥ç¼å¤„ç†',
                            'drywall.text': 'ä¸“ä¸šçš„çŸ³è†æ¿å®‰è£…å’Œç²¾åŠ å·¥ï¼Œæ‰“é€ æ— ç¼å¢™é¢ã€‚',
                            'cta.title': 'å‡†å¤‡å¼€å§‹æ‚¨çš„é¡¹ç›®äº†å—ï¼Ÿ',
                            'cta.text': 'ç«‹å³è”ç³»æˆ‘ä»¬èŽ·å–å…è´¹å’¨è¯¢å’ŒæŠ¥ä»·ã€‚',
                            'footer.about': '"æˆ‘ä»¬ä¸ºå¤§å¤šä¼¦å¤šåœ°åŒº(GTA)åŠå‘¨è¾¹åœ°åŒºçš„å•†ä¸šã€å·¥ä¸šå’Œä½å®…å»ºè®¾é¡¹ç›®æä¾›ä¸“ä¸šçš„é˜²ç«ã€ç»ç¼˜ã€çŸ³è†æ¿å’ŒæŽ¥ç¼å¤„ç†æœåŠ¡ã€‚"',
                            'footer.links': 'å¿«é€Ÿé“¾æŽ¥',
                            'footer.contact': 'è”ç³»æˆ‘ä»¬',
                            'footer.copyright': 'Â© 2025 ThermaCoreé˜²ç«ä¸Žç»ç¼˜å·¥ç¨‹ã€‚ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚'
                        }
                    }
                },
                translateElements: ['h1', 'h2', 'h3', 'p', 'span', 'a:not([data-translate-key])'],
                maxRetries: 2,
                apiPriority: ['google', 'mymemory', 'libre']
            };

            // State
            let currentLang = 'en';
            let translationMethod = 'none';
            let originalTexts = {};

            // Initialize
            function init() {
                if (!localStorage.getItem('originalTextsStored')) {
                    storeOriginalTexts();
                    localStorage.setItem('originalTextsStored', 'true');
                } else {
                    loadOriginalTexts();
                }

                const savedLang = localStorage.getItem('currentLang') || 'en';
                currentLang = savedLang;
                applyStaticTranslations(savedLang);

                if (savedLang !== 'en') {
                    setTimeout(() => changeLanguage(savedLang, false), 100);
                }
                updateButtonStates();
            }

            // Store original texts
            function storeOriginalTexts() {
                originalTexts = {};
                const elements = getTranslatableElements();
                elements.forEach((el, index) => {
                    originalTexts['element_' + index] = {
                        text: el.textContent.trim(),
                        html: el.innerHTML.trim()
                    };
                });
                localStorage.setItem('originalTexts', JSON.stringify(originalTexts));
            }

            // Load original texts
            function loadOriginalTexts() {
                const stored = localStorage.getItem('originalTexts');
                if (stored) {
                    originalTexts = JSON.parse(stored);
                }
            }

            // Apply static translations (from config)
            function applyStaticTranslations(lang) {
                // Translate navigation items
                const navElements = document.querySelectorAll('[data-translate-key]');
                navElements.forEach(el => {
                    const key = el.getAttribute('data-translate-key');
                    if (config.languages[lang].translations[key]) {
                        // Create temporary element to preserve HTML structure
                        const temp = document.createElement('div');
                        temp.innerHTML = config.languages[lang].translations[key];
                        el.textContent = temp.textContent;
                    }
                });

                // Translate other static elements
                for (const [key, translation] of Object.entries(config.languages[lang].translations)) {
                    if (key.startsWith('nav.')) continue; // Skip nav items already handled

                    const elements = document.querySelectorAll(`[data-translate-key="${key}"]`);
                    elements.forEach(el => {
                        el.textContent = translation;
                    });
                }
            }

            // Main translation function
            window.changeLanguage = async function (lang, forceRefresh = true) {
                if (!config.languages[lang] || lang === currentLang) return;

                currentLang = lang;
                localStorage.setItem('currentLang', lang);
                updateButtonStates();
                applyStaticTranslations(lang);

                if (lang === 'en') {
                    restoreOriginalTexts();
                    if (forceRefresh) {
                        window.location.reload();
                    }
                    return;
                }

                document.body.classList.add('translating');
                try {
                    for (const method of config.apiPriority) {
                        try {
                            await attemptTranslation(method, lang);
                            translationMethod = method;
                            break;
                        } catch (error) {
                            console.warn(`${method} failed:`, error);
                            continue;
                        }
                    }
                    showTranslationNotice(lang);
                } catch (error) {
                    console.error('All translation methods failed:', error);
                    showErrorNotice(lang);
                } finally {
                    document.body.classList.remove('translating');
                }
            };

            // Restore original English texts
            function restoreOriginalTexts() {
                const elements = getTranslatableElements();
                elements.forEach((el, index) => {
                    if (originalTexts['element_' + index]) {
                        el.textContent = originalTexts['element_' + index].text;
                    }
                });
            }

            // Attempt translation with specific method
            async function attemptTranslation(method, lang, retryCount = 0) {
                const elements = getTranslatableElements();
                const texts = elements.map(el => el.textContent.trim());

                try {
                    let translations;

                    switch (method) {
                        case 'google':
                            translations = await googleTranslate(texts, lang);
                            break;
                        case 'mymemory':
                            translations = await myMemoryTranslate(texts, lang);
                            break;
                        case 'libre':
                            translations = await libreTranslate(texts, lang);
                            break;
                        default:
                            throw new Error('Unknown method');
                    }

                    elements.forEach((el, index) => {
                        if (translations[index]) {
                            el.textContent = translations[index];
                        }
                    });

                    return true;
                } catch (error) {
                    if (retryCount < config.maxRetries) {
                        console.log(`Retrying ${method} (${retryCount + 1})`);
                        return attemptTranslation(method, lang, retryCount + 1);
                    }
                    throw error;
                }
            }

            // Google Translate API
            async function googleTranslate(texts, targetLang) {
                const promises = texts.map(text => {
                    if (!text.trim()) return Promise.resolve('');
                    return fetch(`https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${targetLang}&dt=t&q=${encodeURIComponent(text)}`)
                        .then(response => response.json())
                        .then(data => data[0][0][0]);
                });
                return Promise.all(promises);
            }

            // MyMemory API
            async function myMemoryTranslate(texts, targetLang) {
                const promises = texts.map(text => {
                    if (!text.trim()) return Promise.resolve('');
                    return fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|${targetLang}`)
                        .then(response => response.json())
                        .then(data => data.responseData.translatedText);
                });
                return Promise.all(promises);
            }

            // LibreTranslate
            async function libreTranslate(texts, targetLang) {
                const response = await fetch('https://libretranslate.de/translate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        q: texts,
                        source: 'en',
                        target: targetLang,
                        format: 'text'
                    })
                });
                if (!response.ok) throw new Error('API error');
                const data = await response.json();
                return data.translatedText || [];
            }

            // Helper functions
            function getTranslatableElements() {
                const elements = [];
                config.translateElements.forEach(selector => {
                    document.querySelectorAll(selector).forEach(el => {
                        if (el.textContent.trim() && !el.closest('[data-notranslate]') && !el.hasAttribute('data-translate-key')) {
                            elements.push(el);
                        }
                    });
                });
                return elements;
            }

            function updateButtonStates() {
                document.querySelectorAll('.custom-translate button').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('onclick').includes(`'${currentLang}'`)) {
                        btn.classList.add('active');
                    }
                });
            }

            function showTranslationNotice(lang) {
                const notice = document.createElement('div');
                notice.className = 'translation-notice success';
                notice.innerHTML = `
                    Translated to ${config.languages[lang].name} (via ${translationMethod})
                    <span class="close-btn">Ã—</span>
                `;
                notice.querySelector('.close-btn').onclick = () => notice.remove();
                document.body.appendChild(notice);
                setTimeout(() => notice.remove(), 5000);
            }

            function showErrorNotice(lang) {
                const notice = document.createElement('div');
                notice.className = 'translation-notice error';
                notice.innerHTML = `
                    Could not translate to ${config.languages[lang].name}
                    <span class="close-btn">Ã—</span>
                `;
                notice.querySelector('.close-btn').onclick = () => notice.remove();
                document.body.appendChild(notice);
            }

            // Initialize
            document.addEventListener('DOMContentLoaded', init);
        })();
    </script>
</body>

</html>